\doxysection{wisco\+::OPControl\+Manager Class Reference}
\hypertarget{classwisco_1_1_o_p_control_manager}{}\label{classwisco_1_1_o_p_control_manager}\index{wisco::OPControlManager@{wisco::OPControlManager}}


Manages the execution of the operator control.  


\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classwisco_1_1_o_p_control_manager_a080c8db96abe93b8705cbd4161f41196}{OPControl\+Manager}} (const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1rtos_1_1_i_clock}{rtos\+::\+IClock}} $>$ \&clock, const std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1rtos_1_1_i_delayer}{rtos\+::\+IDelayer}} $>$ \&delayer)
\begin{DoxyCompactList}\small\item\em Construct a new \doxylink{classwisco_1_1_o_p_control_manager}{OPControl\+Manager} object. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classwisco_1_1_o_p_control_manager_ab8e265d7709df47f9852230fd5335b5a}{set\+Profile}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1_i_profile}{IProfile}} $>$ \&profile)
\begin{DoxyCompactList}\small\item\em Set the operator profile. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classwisco_1_1_o_p_control_manager_a6ffc464547d392a26c891450f8b84471}{initialize\+Opcontrol}} (std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1user_1_1_i_controller}{user\+::\+IController}} $>$ controller, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1robot_1_1_robot}{robot\+::\+Robot}} $>$ robot)
\begin{DoxyCompactList}\small\item\em Initialize the operator control. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classwisco_1_1_o_p_control_manager_a8f9b673667a5e3fd3bc8bb6464f3f72c}{run\+Opcontrol}} (std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1user_1_1_i_controller}{user\+::\+IController}} $>$ controller, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1robot_1_1_robot}{robot\+::\+Robot}} $>$ robot)
\begin{DoxyCompactList}\small\item\em Run the operator control. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1rtos_1_1_i_clock}{rtos\+::\+IClock}} $>$ \mbox{\hyperlink{classwisco_1_1_o_p_control_manager_aea275405a57b3adaa5c6a69ed83fd766}{m\+\_\+clock}} \{\}
\begin{DoxyCompactList}\small\item\em The rtos clock for the control loop. \end{DoxyCompactList}\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1rtos_1_1_i_delayer}{rtos\+::\+IDelayer}} $>$ \mbox{\hyperlink{classwisco_1_1_o_p_control_manager_a94217885b945eef30bb574c0f48c5ea4}{m\+\_\+delayer}} \{\}
\begin{DoxyCompactList}\small\item\em The rtos delayer for the control loop. \end{DoxyCompactList}\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1_i_profile}{IProfile}} $>$ \mbox{\hyperlink{classwisco_1_1_o_p_control_manager_a7c878e166c4523028a2af858db34fa3b}{m\+\_\+profile}} \{\}
\begin{DoxyCompactList}\small\item\em The driver profile. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr uint32\+\_\+t \mbox{\hyperlink{classwisco_1_1_o_p_control_manager_aa8fe44780ffbc639be1823a4c3ab6689}{CONTROL\+\_\+\+DELAY}} \{10\}
\begin{DoxyCompactList}\small\item\em The loop delay for control inputs. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manages the execution of the operator control. 

\begin{DoxyAuthor}{Author}
Nathan Sandvig 
\end{DoxyAuthor}


Definition at line \mbox{\hyperlink{_opcontrol_manager_8hpp_source_l00029}{29}} of file \mbox{\hyperlink{_opcontrol_manager_8hpp_source}{Opcontrol\+Manager.\+hpp}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classwisco_1_1_o_p_control_manager_a080c8db96abe93b8705cbd4161f41196}\label{classwisco_1_1_o_p_control_manager_a080c8db96abe93b8705cbd4161f41196} 
\index{wisco::OPControlManager@{wisco::OPControlManager}!OPControlManager@{OPControlManager}}
\index{OPControlManager@{OPControlManager}!wisco::OPControlManager@{wisco::OPControlManager}}
\doxysubsubsection{\texorpdfstring{OPControlManager()}{OPControlManager()}}
{\footnotesize\ttfamily wisco\+::\+OPControl\+Manager\+::\+OPControl\+Manager (\begin{DoxyParamCaption}\item[{const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1rtos_1_1_i_clock}{rtos\+::\+IClock}} $>$ \&}]{clock,  }\item[{const std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1rtos_1_1_i_delayer}{rtos\+::\+IDelayer}} $>$ \&}]{delayer }\end{DoxyParamCaption})}



Construct a new \doxylink{classwisco_1_1_o_p_control_manager}{OPControl\+Manager} object. 


\begin{DoxyParams}{Parameters}
{\em clock} & The rtos clock \\
\hline
{\em delayer} & The rtos delayer \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_o_p_control_manager_8cpp_source_l00005}{5}} of file \mbox{\hyperlink{_o_p_control_manager_8cpp_source}{OPControl\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00006\ \ \ \ \ :\ \mbox{\hyperlink{classwisco_1_1_o_p_control_manager_aea275405a57b3adaa5c6a69ed83fd766}{m\_clock}}\{clock\},\ \mbox{\hyperlink{classwisco_1_1_o_p_control_manager_a94217885b945eef30bb574c0f48c5ea4}{m\_delayer}}\{delayer-\/>clone()\}}
\DoxyCodeLine{00007\ \{}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classwisco_1_1_o_p_control_manager_ab8e265d7709df47f9852230fd5335b5a}\label{classwisco_1_1_o_p_control_manager_ab8e265d7709df47f9852230fd5335b5a} 
\index{wisco::OPControlManager@{wisco::OPControlManager}!setProfile@{setProfile}}
\index{setProfile@{setProfile}!wisco::OPControlManager@{wisco::OPControlManager}}
\doxysubsubsection{\texorpdfstring{setProfile()}{setProfile()}}
{\footnotesize\ttfamily void wisco\+::\+OPControl\+Manager\+::set\+Profile (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1_i_profile}{IProfile}} $>$ \&}]{profile }\end{DoxyParamCaption})}



Set the operator profile. 


\begin{DoxyParams}{Parameters}
{\em profile} & The operator profile \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_o_p_control_manager_8cpp_source_l00011}{11}} of file \mbox{\hyperlink{_o_p_control_manager_8cpp_source}{OPControl\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00012\ \{}
\DoxyCodeLine{00013\ \ \ \ \ \mbox{\hyperlink{classwisco_1_1_o_p_control_manager_a7c878e166c4523028a2af858db34fa3b}{m\_profile}}\ =\ std::move(profile);}
\DoxyCodeLine{00014\ \}}

\end{DoxyCode}
\Hypertarget{classwisco_1_1_o_p_control_manager_a6ffc464547d392a26c891450f8b84471}\label{classwisco_1_1_o_p_control_manager_a6ffc464547d392a26c891450f8b84471} 
\index{wisco::OPControlManager@{wisco::OPControlManager}!initializeOpcontrol@{initializeOpcontrol}}
\index{initializeOpcontrol@{initializeOpcontrol}!wisco::OPControlManager@{wisco::OPControlManager}}
\doxysubsubsection{\texorpdfstring{initializeOpcontrol()}{initializeOpcontrol()}}
{\footnotesize\ttfamily void wisco\+::\+OPControl\+Manager\+::initialize\+Opcontrol (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1user_1_1_i_controller}{user\+::\+IController}} $>$}]{controller,  }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1robot_1_1_robot}{robot\+::\+Robot}} $>$}]{robot }\end{DoxyParamCaption})}



Initialize the operator control. 


\begin{DoxyParams}{Parameters}
{\em controller} & The controller for the robot \\
\hline
{\em robot} & The robot being controlled \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_o_p_control_manager_8cpp_source_l00016}{16}} of file \mbox{\hyperlink{_o_p_control_manager_8cpp_source}{OPControl\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00017\ \{}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \}}

\end{DoxyCode}
\Hypertarget{classwisco_1_1_o_p_control_manager_a8f9b673667a5e3fd3bc8bb6464f3f72c}\label{classwisco_1_1_o_p_control_manager_a8f9b673667a5e3fd3bc8bb6464f3f72c} 
\index{wisco::OPControlManager@{wisco::OPControlManager}!runOpcontrol@{runOpcontrol}}
\index{runOpcontrol@{runOpcontrol}!wisco::OPControlManager@{wisco::OPControlManager}}
\doxysubsubsection{\texorpdfstring{runOpcontrol()}{runOpcontrol()}}
{\footnotesize\ttfamily void wisco\+::\+OPControl\+Manager\+::run\+Opcontrol (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1user_1_1_i_controller}{user\+::\+IController}} $>$}]{controller,  }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classwisco_1_1robot_1_1_robot}{robot\+::\+Robot}} $>$}]{robot }\end{DoxyParamCaption})}



Run the operator control. 


\begin{DoxyParams}{Parameters}
{\em controller} & The controller for the robot \\
\hline
{\em robot} & The robot being controlled \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_o_p_control_manager_8cpp_source_l00021}{21}} of file \mbox{\hyperlink{_o_p_control_manager_8cpp_source}{OPControl\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00022\ \{}
\DoxyCodeLine{00023\ \ \ \ \ user::DifferentialDriveOperator\ drive\_operator\{controller,\ robot\};}
\DoxyCodeLine{00024\ \ \ \ \ user::ElevatorOperator\ elevator\_operator\{controller,\ robot\};}
\DoxyCodeLine{00025\ \ \ \ \ user::IntakeOperator\ intake\_operator\{controller,\ robot\};}
\DoxyCodeLine{00026\ \ \ \ \ uint32\_t\ current\_time\{\};}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keywordflow}{while}\ (\textcolor{keyword}{true})}
\DoxyCodeLine{00028\ \ \ \ \ \{}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ current\_time\ =\ \mbox{\hyperlink{classwisco_1_1_o_p_control_manager_aea275405a57b3adaa5c6a69ed83fd766}{m\_clock}}-\/>getTime();}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \textcolor{comment}{//TODO\ user\ control\ code}}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ drive\_operator.setDriveVoltage(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacewisco_1_1user_ab55414283b211f2bbde924d9dedeb1bb}{user::EChassisControlMode}}\textcolor{keyword}{>}(\mbox{\hyperlink{classwisco_1_1_o_p_control_manager_a7c878e166c4523028a2af858db34fa3b}{m\_profile}}-\/>getControlMode(user::EControlType::DRIVE)));}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ elevator\_operator.setElevatorPosition(\mbox{\hyperlink{classwisco_1_1_o_p_control_manager_a7c878e166c4523028a2af858db34fa3b}{m\_profile}});}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ intake\_operator.setIntakeVoltage(\mbox{\hyperlink{classwisco_1_1_o_p_control_manager_a7c878e166c4523028a2af858db34fa3b}{m\_profile}});}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwisco_1_1_o_p_control_manager_a94217885b945eef30bb574c0f48c5ea4}{m\_delayer}}-\/>delayUntil(current\_time\ +\ \mbox{\hyperlink{classwisco_1_1_o_p_control_manager_aa8fe44780ffbc639be1823a4c3ab6689}{CONTROL\_DELAY}});}
\DoxyCodeLine{00037\ \ \ \ \ \}}
\DoxyCodeLine{00038\ \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\Hypertarget{classwisco_1_1_o_p_control_manager_aa8fe44780ffbc639be1823a4c3ab6689}\label{classwisco_1_1_o_p_control_manager_aa8fe44780ffbc639be1823a4c3ab6689} 
\index{wisco::OPControlManager@{wisco::OPControlManager}!CONTROL\_DELAY@{CONTROL\_DELAY}}
\index{CONTROL\_DELAY@{CONTROL\_DELAY}!wisco::OPControlManager@{wisco::OPControlManager}}
\doxysubsubsection{\texorpdfstring{CONTROL\_DELAY}{CONTROL\_DELAY}}
{\footnotesize\ttfamily constexpr uint32\+\_\+t wisco\+::\+OPControl\+Manager\+::\+CONTROL\+\_\+\+DELAY \{10\}\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}



The loop delay for control inputs. 



Definition at line \mbox{\hyperlink{_opcontrol_manager_8hpp_source_l00036}{36}} of file \mbox{\hyperlink{_opcontrol_manager_8hpp_source}{Opcontrol\+Manager.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00036\ \{10\};}

\end{DoxyCode}
\Hypertarget{classwisco_1_1_o_p_control_manager_aea275405a57b3adaa5c6a69ed83fd766}\label{classwisco_1_1_o_p_control_manager_aea275405a57b3adaa5c6a69ed83fd766} 
\index{wisco::OPControlManager@{wisco::OPControlManager}!m\_clock@{m\_clock}}
\index{m\_clock@{m\_clock}!wisco::OPControlManager@{wisco::OPControlManager}}
\doxysubsubsection{\texorpdfstring{m\_clock}{m\_clock}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classwisco_1_1rtos_1_1_i_clock}{rtos\+::\+IClock}}$>$ wisco\+::\+OPControl\+Manager\+::m\+\_\+clock \{\}\hspace{0.3cm}{\ttfamily [private]}}



The rtos clock for the control loop. 



Definition at line \mbox{\hyperlink{_opcontrol_manager_8hpp_source_l00042}{42}} of file \mbox{\hyperlink{_opcontrol_manager_8hpp_source}{Opcontrol\+Manager.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00042\ \{\};}

\end{DoxyCode}
\Hypertarget{classwisco_1_1_o_p_control_manager_a94217885b945eef30bb574c0f48c5ea4}\label{classwisco_1_1_o_p_control_manager_a94217885b945eef30bb574c0f48c5ea4} 
\index{wisco::OPControlManager@{wisco::OPControlManager}!m\_delayer@{m\_delayer}}
\index{m\_delayer@{m\_delayer}!wisco::OPControlManager@{wisco::OPControlManager}}
\doxysubsubsection{\texorpdfstring{m\_delayer}{m\_delayer}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classwisco_1_1rtos_1_1_i_delayer}{rtos\+::\+IDelayer}}$>$ wisco\+::\+OPControl\+Manager\+::m\+\_\+delayer \{\}\hspace{0.3cm}{\ttfamily [private]}}



The rtos delayer for the control loop. 



Definition at line \mbox{\hyperlink{_opcontrol_manager_8hpp_source_l00048}{48}} of file \mbox{\hyperlink{_opcontrol_manager_8hpp_source}{Opcontrol\+Manager.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00048\ \{\};}

\end{DoxyCode}
\Hypertarget{classwisco_1_1_o_p_control_manager_a7c878e166c4523028a2af858db34fa3b}\label{classwisco_1_1_o_p_control_manager_a7c878e166c4523028a2af858db34fa3b} 
\index{wisco::OPControlManager@{wisco::OPControlManager}!m\_profile@{m\_profile}}
\index{m\_profile@{m\_profile}!wisco::OPControlManager@{wisco::OPControlManager}}
\doxysubsubsection{\texorpdfstring{m\_profile}{m\_profile}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classwisco_1_1_i_profile}{IProfile}}$>$ wisco\+::\+OPControl\+Manager\+::m\+\_\+profile \{\}\hspace{0.3cm}{\ttfamily [private]}}



The driver profile. 



Definition at line \mbox{\hyperlink{_opcontrol_manager_8hpp_source_l00054}{54}} of file \mbox{\hyperlink{_opcontrol_manager_8hpp_source}{Opcontrol\+Manager.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00054\ \{\};}

\end{DoxyCode}
